<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
    <style type="text/css">
      body {
        text-align: center;
      }
      input {
        text-indent: 0.5rem;
      }
      input:focus {
        outline: none;
      }
      div {
        margin-top: 20px;
      }
      div span {
        color: #343e2e;
        font-size: 16px;
        font-weight: bold;
      }
    </style>
  </head>
<body>

  <label>请输入北京今天空气质量：<input id="aqi-input" type="text" placeholder="please"></label>
  <button id="button">确认填写</button>

  <div>您输入的值是：<span id="aqi-display">尚无录入</span></div>

<script type="text/javascript">
/*
  存在的问题
   1.没有仔细分析HTML结构，每个用到的元素都有id，急于实现功能
   2.只是单纯的实现了功能，没有了解数据是什么类型的，以及需要对输入的数据进行怎样的判断
   3.没有考虑对可复用功能函数的封装，
*/
// (function() {
//    var btn = document.getElementById("button");
//    var oinput = document.getElementsByTagName("input")[0];
//    var ospan = document.getElementById("aqi-display");
//    //按钮添加点击事件，可以用on(),或者直接click
//    btn.addEventListener('click',function(){
//      ospan.innerHTML  = oinput.value;
//      oinput.value = "";
//      oinput.focus();
//    });

// })();
(function() {
  var $ = function(id) {
    return document.getElementById(id)
  };
  function handle() {
    var num = parseInt($('aqi-input').value);
    if(!isNaN(num) && (num >0) && (num <1000)) {
      $('aqi-display').innerHTML = num;
    }else {
      alert('请输入正确的质量数据');
    }
  };
  $('button').onclick = handle;
  $('aqi-input').onkeyup = function(e){
    if(e.keyCode === 13) {
      handle();
    }
  };

})();
</script>
</body>
</html>